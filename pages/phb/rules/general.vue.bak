<template lang="pug">
  div
    h1.sr-only Mass Effect 5e - Player's Handbook
    side-navigation

    // Main toolbar
    main-toolbar.hidden-sm-and-down
    phb-toolbar.hidden-md-and-up
      h2(slot="toolbarTitle").title Rules - General
      template(slot="toolbarItems")
        v-menu(bottom left)
          v-btn(slot="activator" icon dark ripple) #[v-icon view_list]
          v-list
            v-list-tile(v-for="(rule, index) in rules" v-bind:key="index" v-on:click="$vuetify.goTo(`#${rule}`, goToOptions)")
              v-list-tile-title {{ rule.replace(/-/g,' ') | capitalize }}

    // Content
    v-content.blue-grey.lighten-4
      v-container
        h2.display-3.hidden-sm-and-down General
        p.
          Overall, this system attempts to keep things in line with D&D 5e rules as much as possible. There are some
          significant additions, like Shield Points, but most are minor, like the addition of a few more conditions.
          Some changes might seem pointless at first, such as using meters instead of feet as the base unit of distance.
          In these situations we have made the changes in order for the rules to better reflect the Mass Effect setting.
        div(v-for="(rule, index) in rules" v-bind:key="index")
          component(v-bind:is="rule")
</template>

<script>
  import MainToolbar from '~/components/MainToolbar.vue'
  import PhbToolbar from '~/components/PhbToolbar.vue'
  import SideNavigation from '~/components/SideNavigation.vue'

  // Rule Cards
  import {
    GalaxyMaster,
    Distance,
    LiftingAndCarrying,
    Encumbrance,
    RaceClassRestrictions,
    CreatureTypes,
    InfraredVision,
    ParagonAndRenegade,
    SexyLevel
  } from '~/components/phb/'

  export default {
    components: {
      GalaxyMaster,
      Distance,
      LiftingAndCarrying,
      Encumbrance,
      RaceClassRestrictions,
      CreatureTypes,
      InfraredVision,
      ParagonAndRenegade,
      SexyLevel,
      MainToolbar,
      PhbToolbar,
      SideNavigation
    },
    data () {
      return {
        rules: [
          'galaxy-master',
          'distance',
          'lifting-and-carrying',
          'encumbrance',
          'race-class-restrictions',
          'creature-types',
          'infrared-vision',
          'paragon-and-renegade',
          'sexy-level'
        ],
        goToOptions: {
          offset: -58
        }
      }
    },
    head () {
      return {
        title: 'Mass Effect 5e | Rules - General',
        meta: [
          { hid: 'description', name: 'description', content: 'Learn about the primary rule changes and additions between Mass Effect 5e and Dungeons and Dragons 5th Edition' }
        ]
      }
    },
    layout: 'cyo'
  }
</script>
